/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.paid.api.types;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.paid.api.core.ObjectMappers;
import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = Trace.Builder.class)
public final class Trace {
    private final String name;

    private final String vendor;

    private final String model;

    private final CostAmount cost;

    private final String startTimeUnixNano;

    private final String endTimeUnixNano;

    private final Map<String, Object> attributes;

    private final Optional<String> customerId;

    private final Optional<String> productId;

    private final Map<String, Object> additionalProperties;

    private Trace(
            String name,
            String vendor,
            String model,
            CostAmount cost,
            String startTimeUnixNano,
            String endTimeUnixNano,
            Map<String, Object> attributes,
            Optional<String> customerId,
            Optional<String> productId,
            Map<String, Object> additionalProperties) {
        this.name = name;
        this.vendor = vendor;
        this.model = model;
        this.cost = cost;
        this.startTimeUnixNano = startTimeUnixNano;
        this.endTimeUnixNano = endTimeUnixNano;
        this.attributes = attributes;
        this.customerId = customerId;
        this.productId = productId;
        this.additionalProperties = additionalProperties;
    }

    /**
     * @return The name/type of the operation (e.g., &quot;trace.openai.agents.on_agent&quot;)
     */
    @JsonProperty("name")
    public String getName() {
        return name;
    }

    /**
     * @return The vendor/provider (e.g., &quot;openai&quot;, &quot;anthropic&quot;, &quot;mistral&quot;)
     */
    @JsonProperty("vendor")
    public String getVendor() {
        return vendor;
    }

    /**
     * @return The model used for the operation (e.g., &quot;gpt-4o-mini&quot;, &quot;claude-3-sonnet&quot;)
     */
    @JsonProperty("model")
    public String getModel() {
        return model;
    }

    @JsonProperty("cost")
    public CostAmount getCost() {
        return cost;
    }

    /**
     * @return Unix timestamp in nanoseconds when the operation started
     */
    @JsonProperty("startTimeUnixNano")
    public String getStartTimeUnixNano() {
        return startTimeUnixNano;
    }

    /**
     * @return Unix timestamp in nanoseconds when the operation completed
     */
    @JsonProperty("endTimeUnixNano")
    public String getEndTimeUnixNano() {
        return endTimeUnixNano;
    }

    /**
     * @return Additional metadata about the trace (e.g., tokens, etc.)
     */
    @JsonProperty("attributes")
    public Map<String, Object> getAttributes() {
        return attributes;
    }

    /**
     * @return The internal customer ID associated with this trace
     */
    @JsonProperty("customerId")
    public Optional<String> getCustomerId() {
        return customerId;
    }

    /**
     * @return The product/agent ID associated with this trace (optional)
     */
    @JsonProperty("productId")
    public Optional<String> getProductId() {
        return productId;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof Trace && equalTo((Trace) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(Trace other) {
        return name.equals(other.name)
                && vendor.equals(other.vendor)
                && model.equals(other.model)
                && cost.equals(other.cost)
                && startTimeUnixNano.equals(other.startTimeUnixNano)
                && endTimeUnixNano.equals(other.endTimeUnixNano)
                && attributes.equals(other.attributes)
                && customerId.equals(other.customerId)
                && productId.equals(other.productId);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(
                this.name,
                this.vendor,
                this.model,
                this.cost,
                this.startTimeUnixNano,
                this.endTimeUnixNano,
                this.attributes,
                this.customerId,
                this.productId);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static NameStage builder() {
        return new Builder();
    }

    public interface NameStage {
        /**
         * <p>The name/type of the operation (e.g., &quot;trace.openai.agents.on_agent&quot;)</p>
         */
        VendorStage name(@NotNull String name);

        Builder from(Trace other);
    }

    public interface VendorStage {
        /**
         * <p>The vendor/provider (e.g., &quot;openai&quot;, &quot;anthropic&quot;, &quot;mistral&quot;)</p>
         */
        ModelStage vendor(@NotNull String vendor);
    }

    public interface ModelStage {
        /**
         * <p>The model used for the operation (e.g., &quot;gpt-4o-mini&quot;, &quot;claude-3-sonnet&quot;)</p>
         */
        CostStage model(@NotNull String model);
    }

    public interface CostStage {
        StartTimeUnixNanoStage cost(@NotNull CostAmount cost);
    }

    public interface StartTimeUnixNanoStage {
        /**
         * <p>Unix timestamp in nanoseconds when the operation started</p>
         */
        EndTimeUnixNanoStage startTimeUnixNano(@NotNull String startTimeUnixNano);
    }

    public interface EndTimeUnixNanoStage {
        /**
         * <p>Unix timestamp in nanoseconds when the operation completed</p>
         */
        _FinalStage endTimeUnixNano(@NotNull String endTimeUnixNano);
    }

    public interface _FinalStage {
        Trace build();

        /**
         * <p>Additional metadata about the trace (e.g., tokens, etc.)</p>
         */
        _FinalStage attributes(Map<String, Object> attributes);

        _FinalStage putAllAttributes(Map<String, Object> attributes);

        _FinalStage attributes(String key, Object value);

        /**
         * <p>The internal customer ID associated with this trace</p>
         */
        _FinalStage customerId(Optional<String> customerId);

        _FinalStage customerId(String customerId);

        /**
         * <p>The product/agent ID associated with this trace (optional)</p>
         */
        _FinalStage productId(Optional<String> productId);

        _FinalStage productId(String productId);
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder
            implements NameStage,
                    VendorStage,
                    ModelStage,
                    CostStage,
                    StartTimeUnixNanoStage,
                    EndTimeUnixNanoStage,
                    _FinalStage {
        private String name;

        private String vendor;

        private String model;

        private CostAmount cost;

        private String startTimeUnixNano;

        private String endTimeUnixNano;

        private Optional<String> productId = Optional.empty();

        private Optional<String> customerId = Optional.empty();

        private Map<String, Object> attributes = new LinkedHashMap<>();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        @java.lang.Override
        public Builder from(Trace other) {
            name(other.getName());
            vendor(other.getVendor());
            model(other.getModel());
            cost(other.getCost());
            startTimeUnixNano(other.getStartTimeUnixNano());
            endTimeUnixNano(other.getEndTimeUnixNano());
            attributes(other.getAttributes());
            customerId(other.getCustomerId());
            productId(other.getProductId());
            return this;
        }

        /**
         * <p>The name/type of the operation (e.g., &quot;trace.openai.agents.on_agent&quot;)</p>
         * <p>The name/type of the operation (e.g., &quot;trace.openai.agents.on_agent&quot;)</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("name")
        public VendorStage name(@NotNull String name) {
            this.name = Objects.requireNonNull(name, "name must not be null");
            return this;
        }

        /**
         * <p>The vendor/provider (e.g., &quot;openai&quot;, &quot;anthropic&quot;, &quot;mistral&quot;)</p>
         * <p>The vendor/provider (e.g., &quot;openai&quot;, &quot;anthropic&quot;, &quot;mistral&quot;)</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("vendor")
        public ModelStage vendor(@NotNull String vendor) {
            this.vendor = Objects.requireNonNull(vendor, "vendor must not be null");
            return this;
        }

        /**
         * <p>The model used for the operation (e.g., &quot;gpt-4o-mini&quot;, &quot;claude-3-sonnet&quot;)</p>
         * <p>The model used for the operation (e.g., &quot;gpt-4o-mini&quot;, &quot;claude-3-sonnet&quot;)</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("model")
        public CostStage model(@NotNull String model) {
            this.model = Objects.requireNonNull(model, "model must not be null");
            return this;
        }

        @java.lang.Override
        @JsonSetter("cost")
        public StartTimeUnixNanoStage cost(@NotNull CostAmount cost) {
            this.cost = Objects.requireNonNull(cost, "cost must not be null");
            return this;
        }

        /**
         * <p>Unix timestamp in nanoseconds when the operation started</p>
         * <p>Unix timestamp in nanoseconds when the operation started</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("startTimeUnixNano")
        public EndTimeUnixNanoStage startTimeUnixNano(@NotNull String startTimeUnixNano) {
            this.startTimeUnixNano = Objects.requireNonNull(startTimeUnixNano, "startTimeUnixNano must not be null");
            return this;
        }

        /**
         * <p>Unix timestamp in nanoseconds when the operation completed</p>
         * <p>Unix timestamp in nanoseconds when the operation completed</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("endTimeUnixNano")
        public _FinalStage endTimeUnixNano(@NotNull String endTimeUnixNano) {
            this.endTimeUnixNano = Objects.requireNonNull(endTimeUnixNano, "endTimeUnixNano must not be null");
            return this;
        }

        /**
         * <p>The product/agent ID associated with this trace (optional)</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage productId(String productId) {
            this.productId = Optional.ofNullable(productId);
            return this;
        }

        /**
         * <p>The product/agent ID associated with this trace (optional)</p>
         */
        @java.lang.Override
        @JsonSetter(value = "productId", nulls = Nulls.SKIP)
        public _FinalStage productId(Optional<String> productId) {
            this.productId = productId;
            return this;
        }

        /**
         * <p>The internal customer ID associated with this trace</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage customerId(String customerId) {
            this.customerId = Optional.ofNullable(customerId);
            return this;
        }

        /**
         * <p>The internal customer ID associated with this trace</p>
         */
        @java.lang.Override
        @JsonSetter(value = "customerId", nulls = Nulls.SKIP)
        public _FinalStage customerId(Optional<String> customerId) {
            this.customerId = customerId;
            return this;
        }

        /**
         * <p>Additional metadata about the trace (e.g., tokens, etc.)</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage attributes(String key, Object value) {
            this.attributes.put(key, value);
            return this;
        }

        /**
         * <p>Additional metadata about the trace (e.g., tokens, etc.)</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage putAllAttributes(Map<String, Object> attributes) {
            if (attributes != null) {
                this.attributes.putAll(attributes);
            }
            return this;
        }

        /**
         * <p>Additional metadata about the trace (e.g., tokens, etc.)</p>
         */
        @java.lang.Override
        @JsonSetter(value = "attributes", nulls = Nulls.SKIP)
        public _FinalStage attributes(Map<String, Object> attributes) {
            this.attributes.clear();
            if (attributes != null) {
                this.attributes.putAll(attributes);
            }
            return this;
        }

        @java.lang.Override
        public Trace build() {
            return new Trace(
                    name,
                    vendor,
                    model,
                    cost,
                    startTimeUnixNano,
                    endTimeUnixNano,
                    attributes,
                    customerId,
                    productId,
                    additionalProperties);
        }
    }
}
